@{
ViewBag.Title = "Admin Panel";
}

@model Tuple<List<PlatformCTF.Domains.Entities.User.UDBTable>, Platform_CTF.Models.ExerciseAdd>

<h1>Admin Panel</h1>

<h2>All Users</h2>

@if (Model.Item1 != null && Model.Item1.Any())
{
<table class="table">
    <thead>
    <tr>
        <th>ID</th>
        <th>Name</th>
        <th>Actions</th>
    </tr>
    </thead>
    <tbody>
    @foreach (var user in Model.Item1)
    {
    <tr>
        <td>@user.Id</td>
        <td>@user.Username</td>
        <td>
            <a href="@Url.Action("BanUser", "Admin", new { id = user.Id })">Ban</a>
        </td>
    </tr>
    }
    </tbody>
</table>
}
else
{
<p>No users found.</p>
}

<h2>Add Exercise</h2>

@using (Html.BeginForm("AddExercise", "Challenge", FormMethod.Post))
{
@Html.AntiForgeryToken()

<div class="form-group">
    @Html.LabelFor(model => model.Item2.Name)
    @Html.EditorFor(model => model.Item2.Name, new { htmlAttributes = new { @class = "form-control" } })
    @Html.ValidationMessageFor(model => model.Item2.Name, "", new { @class = "text-danger" })
</div>

<div class="form-group">
    @Html.LabelFor(model => model.Item2.Description)
    @Html.EditorFor(model => model.Item2.Description, new { htmlAttributes = new { @class = "form-control" } })
    @Html.ValidationMessageFor(model => model.Item2.Description, "", new { @class = "text-danger" })
</div>

<div class="form-group">
    @Html.LabelFor(model => model.Item2.DownloadLink)
    @Html.EditorFor(model => model.Item2.DownloadLink, new { htmlAttributes = new { @class = "form-control" } })
    @Html.ValidationMessageFor(model => model.Item2.DownloadLink, "", new { @class = "text-danger" })
</div>
<div class="form-group">
    @Html.LabelFor(model => model.Item2.Level)
    @Html.EditorFor(model => model.Item2.Level, new { htmlAttributes = new { @class = "form-control" } })
    @Html.ValidationMessageFor(model => model.Item2.Level, "", new { @class = "text-danger" })
</div>

<div class="form-group">
    @Html.LabelFor(model => model.Item2.Category)
    @Html.EditorFor(model => model.Item2.Category, new { htmlAttributes = new { @class = "form-control" } })
    @Html.ValidationMessageFor(model => model.Item2.Category, "", new { @class = "text-danger" })
</div>
<div class="form-group">
    @Html.LabelFor(model => model.Item2.Flag)
    @Html.EditorFor(model => model.Item2.Flag, new { htmlAttributes = new { @class = "form-control" } })
    @Html.ValidationMessageFor(model => model.Item2.Flag, "", new { @class = "text-danger" })
</div>
<div class="form-group">
    <input type="submit" value="Add" class="btn btn-default" />
</div>
}